[TOC]


您可以选择需要重跑的源头任务及其下游任务，在上游任务执行重跑成功后可以触发下游任务的重跑。当上游数据发生异常，污染到下游数据时，可以使用该功能进行异常数据的修复。

### **使用说明**

#### **权限相关**

重跑下游需要用户有对应任务的重跑权限。

#### **使用步骤**

1. 在**周期实例运维**页面和**实例详情**页面都可以找到**重跑下游**的按钮。在**周期实例运维**页面，在操作栏中点击更多，会出现**重跑下游**选项，点击后进入重跑下游的配置页面。  
![Snipaste_2023-10-24_18-48-45.jpg](../attachments/202310/179105772232693c.jpg "Snipaste_2023-10-24_18-48-45.jpg")  
<table><tr><td bgcolor=#F5DEB3>
**说明：** 仅支持对执行方式为线上调度，且就绪时间为昨日0点到此刻的实例进行重跑下游的操作。
</td></tr></table>

2. 用户需要首先选择源头实例中需要重跑的节点，系统会自动勾选失败、撤销和终止状态的节点。  
![POPO20231024-160259.jpg](../attachments/202310/1790fc6b03d062f6.jpg "POPO20231024-160259.jpg")  

3. 选择好源头实例的重跑节点后，进入下一步，选择下游需要重跑的实例和节点。可以选择流程视图和列表视图两种模式来选择需要重跑的实例及节点。  
![POPO20231024-160607.jpg](../attachments/202310/1790fc95d542df20.jpg "POPO20231024-160607.jpg")  
点击实例数字，可以选择要重跑的节点，此步骤与重跑单个实例一致。  
![POPO20231024-161200.jpg](../attachments/202310/1790fce7c4dc89fa.jpg "POPO20231024-161200.jpg")  
<table><tr><td bgcolor=#F5DEB3>
**说明：** 默认展示所有运行方式为线上调度的下游实例及其状态，即仅支持重跑运行方式为线上调度的下游实例。
</td></tr></table>
**冻结模式：**默认支持重跑成功、失败与终止状态的实例，若要对其他状态的实例进行重跑操作，需手动开启“冻结模式”。冻结模式下允许对实例进行冻结操作，未就绪的实例将停止生成，就绪与运行中的实例将会被终止。

4. 选择好需要重跑的源头实例和下游实例及节点后，进入重跑设置页面。重跑设置页面与单个实例重跑的设置页面基本一致。可以选择重跑下游成功、重跑下游终止、实例出现失败三种通知条件。  
![POPO20231024-161553.jpg](../attachments/202310/1790fd1de004d23c.jpg "POPO20231024-161553.jpg")

#### **重跑下游记录**
可以在周期实例运维列表右上方点击“重跑下游记录”查看重跑下游的记录。  
![POPO20231024-161836.jpg](../attachments/202310/1790fd4486334ccd.jpg "POPO20231024-161836.jpg")  
可以在重跑下游记录中查看重跑下游任务的进度，支持对重跑下游任务进行暂停、终止和恢复操作。  
![POPO20231024-162226.jpg](../attachments/202310/1790fd792cdf7741.jpg "POPO20231024-162226.jpg")  

<table><tr><td bgcolor=#F5DEB3>
**下游实例标签说明：**  
1）待重跑标签表示该实例正在等待上游依赖完成，还未生成重跑实例，重跑实例生成以后此处标签将不再显示，实例ID会被更新显示为对应的重跑实例ID；  
2）待解冻标签表示该实例为未就绪状态，因执行重跑下游而被冻结，在上游依赖完成后会正常执行的线上调度实例，此处标签也将不再显示。
</td></tr></table>


#### **其它说明**

1. 重跑下游时，任务会按照依赖关系依次执行重跑，需要上游重跑实例运行完成后，下游重跑实例才会生成并开始运行。
1. 针对开启了冻结模式时并选择了未就绪状态的下游实例的场景，待解冻的实例将会等到重跑下游任务的重跑状态变为成功后，开始解冻并生成实例，若重跑下游任务中存在实例失败或非完成状态，则待解冻的实例将处于冻结状态；若需要强制解冻这批实例，可以将重跑下游任务终止，终止后，待解冻的实例将开始解冻并生成实例。
1. 当重跑下游任务状态为成功后，重跑下游任务列表将不再更新，可能会出现列表中显示实例状态为未就绪，实例详情中状态已更新为运行的情况。